<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voidfall Solo Score Calculator</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Babel via CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { background-color: #0f172a; }
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none; 
            margin: 0; 
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const App = () => {
            const [difficulty, setDifficulty] = useState(60);
            const [counts, setCounts] = useState({
                rifts: 0,
                safeHavens: 0,
                catastrophes: 0,
                harbingers: 0,
                consumedTech: 0,
                crisisCards: 0,
                fallenHouses: 0,
                corruption: 0,
                population: 0
            });

            const config = [
                { key: 'rifts', label: 'Rifts auf der Map', points: 30, color: 'text-purple-500' },
                { key: 'safeHavens', label: 'Unvollständige Safe Havens', points: 20, color: 'text-amber-500' },
                { key: 'catastrophes', label: 'Katastrophen (Crisis Board)', points: 20, color: 'text-red-600' },
                { key: 'harbingers', label: 'Harbingers auf der Map', points: 10, color: 'text-red-400' },
                { key: 'consumedTech', label: 'Consumed Tech Karten', points: 5, color: 'text-blue-400' },
                { key: 'crisisCards', label: 'Aktive Crisis Karten', points: 5, color: 'text-orange-500' },
                { key: 'fallenHouses', label: 'Fallen House Karten (Sektoren)', points: 3, color: 'text-gray-500' },
                { key: 'corruption', label: 'Korruptions-Marker', points: 2, color: 'text-purple-700' },
                { key: 'population', label: 'Voidborn Population', points: 1, color: 'text-gray-400' },
            ];

            const updateCount = (key, val) => {
                const num = Math.max(0, parseInt(val) || 0);
                setCounts(prev => ({ ...prev, [key]: num }));
            };

            const calculateTotal = () => {
                let total = parseInt(difficulty);
                config.forEach(item => {
                    total += (counts[item.key] || 0) * item.points;
                });
                return total;
            };

            const reset = () => {
                setCounts({
                    rifts: 0, safeHavens: 0, catastrophes: 0, harbingers: 0,
                    consumedTech: 0, crisisCards: 0, fallenHouses: 0,
                    corruption: 0, population: 0
                });
            };

            return (
                <div className="min-h-screen text-slate-100 p-4 font-sans flex justify-center">
                    <div className="w-full max-w-md bg-slate-800 rounded-2xl shadow-2xl border border-slate-700 overflow-hidden self-start">
                        <div className="bg-purple-900/40 p-6 border-b border-purple-500/30">
                            <h1 className="text-2xl font-bold tracking-tight">Voidfall Score</h1>
                            <p className="text-slate-400 text-sm">Solo Modus: Voidborn Punkte</p>
                        </div>

                        <div className="p-6 space-y-6">
                            <div className="space-y-3">
                                <label className="text-xs font-bold uppercase tracking-wider text-slate-400">Schwierigkeit (Basis-Punkte)</label>
                                <div className="grid grid-cols-3 gap-2">
                                    {[60, 100, 140].map(val => (
                                        <button key={val} onClick={() => setDifficulty(val)}
                                            className={`py-2 rounded-lg font-bold transition-all ${difficulty === val ? 'bg-purple-600 text-white ring-2 ring-purple-400' : 'bg-slate-700 text-slate-300'}`}>
                                            {val}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div className="space-y-4">
                                {config.map((item) => (
                                    <div key={item.key} className="flex items-center justify-between">
                                        <div>
                                            <p className="text-sm font-medium">{item.label}</p>
                                            <p className={`text-xs ${item.color}`}>{item.points} Pkt. pro Stück</p>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <button onClick={() => updateCount(item.key, counts[item.key] - 1)}
                                                className="w-8 h-8 flex items-center justify-center bg-slate-700 rounded-full hover:bg-slate-600">-</button>
                                            <input type="number" value={counts[item.key] || ''} placeholder="0"
                                                onChange={(e) => updateCount(item.key, e.target.value)}
                                                className="w-12 bg-slate-900 border border-slate-700 rounded-md py-1 text-center font-bold outline-none" />
                                            <button onClick={() => updateCount(item.key, counts[item.key] + 1)}
                                                className="w-8 h-8 flex items-center justify-center bg-slate-700 rounded-full hover:bg-slate-600">+</button>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            <div className="mt-8 p-6 bg-slate-900 rounded-xl border border-purple-500/20 text-center">
                                <p className="text-slate-400 text-xs uppercase tracking-widest mb-1">Voidborn Gesamtpunkte</p>
                                <p className="text-5xl font-black text-white">{calculateTotal()}</p>
                            </div>

                            <button onClick={reset} className="w-full flex items-center justify-center gap-2 py-3 text-slate-500 hover:text-white transition-colors text-xs">
                                Felder zurücksetzen
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
